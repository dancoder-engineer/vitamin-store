{"ast":null,"code":"var _jsxFileName = \"/home/dan/code/projects/project4/frontend/src/LogPages/DeleteAcct.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { NavLink } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction DeleteAcct() {\n  _s();\n\n  let [message, setMessage] = useState(null);\n  useEffect(() => {\n    if (!message) {\n      youGetMe();\n    }\n  }, []);\n\n  function youGetMe() {\n    fetch(\"/getme/\").then(res => res.json()).then(data => {\n      //console.log(data)\n      if (data) {\n        deleteUser(\"/users/\" + data.id);\n      }\n    });\n  }\n\n  function deleteUser(url) {\n    fetch(url, {\n      method: 'DELETE'\n    }) //   .then(res => res.json())\n    .then(data => {\n      //   console.log(data)\n      setMessage(\"Your account has been deleted.\");\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: message && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n        to: \"/\",\n        children: \"Please click here to go back to the store.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 27\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}\n\n_s(DeleteAcct, \"dXBGEOfof7LOz1twfKe468PNGGg=\");\n\n_c = DeleteAcct;\nexport default DeleteAcct;\n\nvar _c;\n\n$RefreshReg$(_c, \"DeleteAcct\");","map":{"version":3,"names":["React","useState","useEffect","NavLink","DeleteAcct","message","setMessage","youGetMe","fetch","then","res","json","data","deleteUser","id","url","method"],"sources":["/home/dan/code/projects/project4/frontend/src/LogPages/DeleteAcct.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {NavLink} from 'react-router-dom'\n\nfunction DeleteAcct() {\n\n    let [message, setMessage] = useState(null)\n\n    useEffect(() => {\n       if (!message) { youGetMe() }\n    }, [])\n\n\n    function youGetMe() {\n\n        fetch(\"/getme/\")\n        .then(res => res.json())\n        .then(data => { //console.log(data)\n            if(data) {deleteUser(\"/users/\" + data.id)}\n        })\n      }\n\n    function deleteUser(url) {\n        fetch(url, {method: 'DELETE'})\n     //   .then(res => res.json())\n        .then(data => {\n         //   console.log(data)\n            setMessage(\"Your account has been deleted.\")\n        })\n\n\n    }\n\n\n\n    return(\n        <div>\n            {message && ( <div>\n            <p>{message}</p>\n            <br />\n            <NavLink to=\"/\">Please click here to go back to the store.</NavLink>\n            </div>\n            )}\n        </div>\n    )\n}\n\nexport default DeleteAcct"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAAQC,OAAR,QAAsB,kBAAtB;;;AAEA,SAASC,UAAT,GAAsB;EAAA;;EAElB,IAAI,CAACC,OAAD,EAAUC,UAAV,IAAwBL,QAAQ,CAAC,IAAD,CAApC;EAEAC,SAAS,CAAC,MAAM;IACb,IAAI,CAACG,OAAL,EAAc;MAAEE,QAAQ;IAAI;EAC9B,CAFQ,EAEN,EAFM,CAAT;;EAKA,SAASA,QAAT,GAAoB;IAEhBC,KAAK,CAAC,SAAD,CAAL,CACCC,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEMG,IAAI,IAAI;MAAE;MACZ,IAAGA,IAAH,EAAS;QAACC,UAAU,CAAC,YAAYD,IAAI,CAACE,EAAlB,CAAV;MAAgC;IAC7C,CAJD;EAKD;;EAEH,SAASD,UAAT,CAAoBE,GAApB,EAAyB;IACrBP,KAAK,CAACO,GAAD,EAAM;MAACC,MAAM,EAAE;IAAT,CAAN,CAAL,CACH;IADG,CAECP,IAFD,CAEMG,IAAI,IAAI;MACb;MACGN,UAAU,CAAC,gCAAD,CAAV;IACH,CALD;EAQH;;EAID,oBACI;IAAA,UACKD,OAAO,iBAAM;MAAA,wBACd;QAAA,UAAIA;MAAJ;QAAA;QAAA;QAAA;MAAA,QADc,eAEd;QAAA;QAAA;QAAA;MAAA,QAFc,eAGd,QAAC,OAAD;QAAS,EAAE,EAAC,GAAZ;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAHc;IAAA;MAAA;MAAA;MAAA;IAAA;EADlB;IAAA;IAAA;IAAA;EAAA,QADJ;AAUH;;GAzCQD,U;;KAAAA,U;AA2CT,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}